/*******************************************************************************
 * Universal player version 1.0.7
 * Copyright 2012, U Pro. All rights reserved.
 * 
 * U PRO - LIVE INTERACTIVE VIDEO
 * http://www.u-pro.fr
 ******************************************************************************/
function ParsedQueryString(){this._init()}function prechargeImage(e){var t=new Image;t.src=e;t.onload=function(){$("#chapter").append('<div class="videos"> <img src="'+this.src+'" /> </iv>');nbImageCharger++;if(nbImageCharger==parseInt(p["nbVideo"])){if(p["position"]=="horizontal"){$("#chapter").html('<div id="horizontal">'+$("#chapter").html()+"</div>");$("#zonePlayer").css({width:"100%",height:"80%"});$("#chapter").css({width:"100%",height:"20%"});var e=$("#chapter").width(),t=$("#chapter").height();$(".videos").css({width:e*.2+"px",height:t*.9+"px",margin:t*.05+"px"});$("#horizontal").css({width:(t*.05*2+e*.2)*parseInt(p["nbVideo"])+"px",height:"100%"});e=$("#chapter").width();t=$("#horizontal").height();$(".videos").css({width:e*.2+"px",height:t*.9+"px",margin:t*.05+"px"});$("#horizontal").css({width:(t*.05*2+e*.2)*parseInt(p["nbVideo"])+"px",height:t+"px"})}var n=$(".videos").height(),r=$(".videos").width(),i=1;$("#chapter img").each(function(e){var t=$(this).width(),s=$(this).height(),o=0,u=0;if(t>s){i=r/t;if(s*i<n){i=n/s;u=(r-t*i)/2}else o=(n-s*i)/2}else{i=n/s;if(t*i<r){i=r/t;o=(n-s*i)/2}else u=(r-t*i)/2}$(this).css({left:u+"px",top:o+"px",width:t*i+"px",height:s*i+"px"});$(this).click(function(){$("#"+"zonePlayer").html("");player("zonePlayer",p["img"+(e+1)],p["source"+(e+1)],p["src_html5_"+(e+1)],p["netConnection"],p,autoplay_boolean);currentCharger=e+1});if(p["position"]=="horizontal"&&e>0){$(this).parent().css({"margin-left":"0px"})}})}}}function player(e,t,n,r,i,s,o){if(s["html5"]=="only"||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)&&s["live"]==0){if(r!=""){if(o==true){$("#"+e).html('<video id="videoHTML5" width="100%" height="100%" poster="'+t+'" src="'+r+'" autoplay="autoplay" controls="controls"></video>')}else{$("#"+e).html('<video id="videoHTML5" width="100%" height="100%" poster="'+t+'" src="'+r+'" controls="controls"></video>')}}else{if(o==true){$("#"+e).html('<video id="videoHTML5" width="100%" height="100%" poster="'+t+'" src="'+n+'" autoplay="autoplay" controls="controls"></video>')}else{$("#"+e).html('<video id="videoHTML5" width="100%" height="100%" poster="'+t+'" src="'+n+'" controls="controls"></video>')}}}else{if(s["prot"]=="rtmp"||s["prot"]=="pseudostreaming"||s["prot"]=="akamaihd"){if(s["prot"]=="akamaihd"){$f(e,{src:fp_commercial,wmode:"transparent"},{key:clef_fp,contextMenu:[{"A Propos de U Pro":function(){location.href="//www.u-pro.fr"}},"-","Universal Player by U Pro v1.0.5"],clip:{url:n,live:live_boolean,start:s["startTime"],autoPlay:o,provider:s["prot"],scaling:"scale",pageUrl:s["sharingurl"],onFinish:function(){if(s["playListeMode"]=="1"&&parseInt(currentCharger)+1<=parseInt(s["nbVideo"])){$("#"+"zonePlayer").html("");o="true";player("zonePlayer",s["img"+(currentCharger+1)],s["source"+(currentCharger+1)],s["src_html5_"+(currentCharger+1)],s["netConnection"],s,o);currentCharger++}}},plugins:{akamaihd:{url:fp_akamai},controls:{url:fp_controls,all:false,scrubber:scrubber_boolean,play:play_boolean,time:time_boolean,fullscreen:fullscreen_boolean,volume:volume_boolean,backgroundColor:"rgba("+s["controlColor"]+")",backgroundGradient:s["controlGradient"],sliderColor:"#"+s["leftSliderColor"],progressColor:"#"+s["rightSliderColor"],volumeSliderColor:"#"+s["leftSliderColor"],volumeColor:"#"+s["rightSliderColor"],bufferColor:"#"+s["bufferSliderColor"],timeColor:"#"+s["timeTextColor"],durationColor:"#"+s["durationTextColor"],tooltipColor:"#"+s["bgTooltipColor"],tooltipTextColor:"#"+s["textTooltipColor"]}},canvas:{backgroundColor:"#"+s["bgColor"],backgroundGradient:"none",background:"#"+s["bgColor"]+" url("+t+") no-repeat 50pct 50pct"},buffering:false,showErrors:false})}else if(s["prot"]=="rtmp"){$f(e,{src:fp_commercial,wmode:"transparent"},{key:clef_fp,contextMenu:[{"A Propos de U Pro":function(){location.href="//www.u-pro.fr"}},"-","Universal Player by U Pro v1.0.5"],clip:{url:n,live:live_boolean,start:s["startTime"],autoPlay:o,provider:s["prot"],scaling:"scale",pageUrl:s["sharingurl"],onFinish:function(){if(s["playListeMode"]=="1"&&parseInt(currentCharger)+1<=parseInt(s["nbVideo"])){$("#"+"zonePlayer").html("");o="true";player("zonePlayer",s["img"+(currentCharger+1)],s["source"+(currentCharger+1)],s["src_html5_"+(currentCharger+1)],s["netConnection"],s,o);currentCharger++}}},plugins:{rtmp:{url:fp_rtmp,netConnectionUrl:i},controls:{url:fp_controls,all:false,scrubber:scrubber_boolean,play:play_boolean,time:time_boolean,fullscreen:fullscreen_boolean,volume:volume_boolean,backgroundColor:"rgba("+s["controlColor"]+")",backgroundGradient:s["controlGradient"],sliderColor:"#"+s["leftSliderColor"],progressColor:"#"+s["rightSliderColor"],volumeSliderColor:"#"+s["leftSliderColor"],volumeColor:"#"+s["rightSliderColor"],bufferColor:"#"+s["bufferSliderColor"],timeColor:"#"+s["timeTextColor"],durationColor:"#"+s["durationTextColor"],tooltipColor:"#"+s["bgTooltipColor"],tooltipTextColor:"#"+s["textTooltipColor"]}},canvas:{backgroundColor:"#"+s["bgColor"],backgroundGradient:"none",background:"#"+s["bgColor"]+" url("+t+") no-repeat 50pct 50pct"},buffering:false,showErrors:false})}else if(s["prot"]=="pseudostreaming"){$f(e,{src:fp_commercial,wmode:"transparent"},{key:clef_fp,contextMenu:[{"A Propos de U Pro":function(){location.href="//www.u-pro.fr"}},"-","Universal Player by U Pro v1.0.5"],clip:{url:n,live:live_boolean,start:s["startTime"],autoPlay:o,provider:s["prot"],scaling:"scale",pageUrl:s["sharingurl"],onFinish:function(){if(s["playListeMode"]=="1"&&parseInt(currentCharger)+1<=parseInt(s["nbVideo"])){$("#"+"zonePlayer").html("");o="true";player("zonePlayer",s["img"+(currentCharger+1)],s["source"+(currentCharger+1)],s["src_html5_"+(currentCharger+1)],s["netConnection"],s,o);currentCharger++}}},plugins:{pseudostreaming:{url:fp_pseudostreaming},controls:{url:fp_controls,all:false,scrubber:scrubber_boolean,play:play_boolean,time:time_boolean,fullscreen:fullscreen_boolean,volume:volume_boolean,backgroundColor:"rgba("+s["controlColor"]+")",backgroundGradient:s["controlGradient"],sliderColor:"#"+s["leftSliderColor"],progressColor:"#"+s["rightSliderColor"],volumeSliderColor:"#"+s["leftSliderColor"],volumeColor:"#"+s["rightSliderColor"],bufferColor:"#"+s["bufferSliderColor"],timeColor:"#"+s["timeTextColor"],durationColor:"#"+s["durationTextColor"],tooltipColor:"#"+s["bgTooltipColor"],tooltipTextColor:"#"+s["textTooltipColor"]}},canvas:{backgroundColor:"#"+s["bgColor"],backgroundGradient:"none",background:"#"+s["bgColor"]+" url("+t+") no-repeat 50pct 50pct"},buffering:false,showErrors:false})}}if(s["prot"]=="silverlight"){$("#"+e).html("Smooth Streaming Silverlight");function u(e,t){var n="";if(e!=null&&e!=0){n=e.getHost().Source}var r=t.ErrorType;var i=t.ErrorCode;if(r=="ImageError"||r=="MediaError"){return}var s="Unhandled Error in Silverlight Application "+n+"\n";s+="Code: "+i+"    \n";s+="Category: "+r+"       \n";s+="Message: "+t.ErrorMessage+"     \n";if(r=="ParserError"){s+="File: "+t.xamlFile+"     \n";s+="Line: "+t.lineNumber+"     \n";s+="Position: "+t.charPosition+"     \n"}else if(r=="RuntimeError"){if(t.lineNumber!=0){s+="Line: "+t.lineNumber+"     \n";s+="Position: "+t.charPosition+"     \n"}s+="MethodName: "+t.methodName+"     \n"}throw new Error(s)}$("#"+e).html('<form id="playersilvelight" runat="server" style="height:100%"><div id="silverlightControlHost"><object data="data:application/x-silverlight-2," type="application/x-silverlight-2" width="100%" height="100%"><param name="source" value="SmoothStreamingPlayer.xap"/><param name="onError" value="onSilverlightError" /><param name="background" value="white" /><param name="minRuntimeVersion" value="4.0.50401.0" /><param name="autoUpgrade" value="true" /><param name="InitParams" id="paramsilverlight" value="" /><a href="//go.microsoft.com/fwlink/?LinkID=149156&v=4.0.50401.0" style="text-decoration:none"><img src="//go.microsoft.com/fwlink/?LinkId=161376" alt="Get Microsoft Silverlight" style="border-style:none"/></a></object><iframe id="_sl_historyFrame" style="visibility:hidden;height:0px;width:0px;border:0px"></iframe></div></form>');p_silverlight="fakemode=,background=#FF0000,autoload=true,autoplay="+autoplay_string+",muted=False,stretchmode=0,playlist=<playList><playListItems><playListItem title='Smooth Streaming' description='' mediaSource='"+n+"' adaptiveStreaming='True' thumbSource=''></playListItem></playListItems></playList>";$("#paramsilverlight").attr("value",p_silverlight);$("#silverlightControlHost").css("height","100%");$("#silverlightControlHost").css("text-align","center")}}$("#"+e).css("background-color","#"+s["bgColor"])}var clef_fp="#$2bd63dcb7a4c5c7d4c3",fp_commercial="//static.u-pro.fr/vod/static/upro/player/flowplayer/version327/flowplayer.commercial-3.2.7.swf",fp_controls="//static.u-pro.fr/vod/static/upro/player/flowplayer/version327/flowplayer.controls-3.2.5.swf",fp_rtmp="//static.u-pro.fr/vod/static/upro/player/flowplayer/version327/flowplayer.rtmp-3.2.3.swf",fp_pseudostreaming="//static.u-pro.fr/vod/static/upro/player/flowplayer/version327/flowplayer.pseudostreaming-3.2.7.swf",fp_akamai="//static.u-pro.fr/vod/static/upro/player/plugins/AkamaiFlowPlugin/v2.11/AkamaiFlowPlugin.swf",nbImageCharger=0,currentCharger=1,p;ParsedQueryString.version="1.0";ParsedQueryString.prototype={_init:function(){this._parameters={};if(location.search.length<=1)return;var e=location.search.substr(1).split(/[&;]/);for(var t=0;t<e.length;t++){var n=e[t].split(/=/);var r=this._decodeURL(n[0]);if(Boolean(n[1])){var i=this._decodeURL(n[1]);if(Boolean(this._parameters[r]))this._parameters[r].push(i);else this._parameters[r]=[i]}}},_decodeURL:function(e){return decodeURIComponent(e.replace(/\+/g," "))},param:function(e){if(Boolean(this._parameters[e]))return this._parameters[e][0];else return""},params:function(e){if(Boolean(e)){if(Boolean(this._parameters[e])){var t=[];for(var n=0;n<this._parameters[e].length;n++)t.push(this._parameters[e][n]);return t}else return[]}else{var r=[];for(var e in this._parameters)r.push(e);return r}}};var pqs=new ParsedQueryString;var pNames=pqs.params(false);p={};p["prot"]="rtmp";p["netConnection"]=" ";p["source"]="null";p["src_rtmp"]="";p["src_pseudostreaming"]="";p["src_silverlight"]="";p["src_akamaihd"]="";p["primaryToken"]="";p["html5"]="no";p["src_html5"]="";p["img"]="http://gulf-up.com/do.php?img=223372";p["controlColor"]="0,0,0,0.4";p["controlGradient"]="none";p["bgColor"]="ffffff";p["leftSliderColor"]="ffffff";p["rightSliderColor"]="909090";p["bufferSliderColor"]="6c9cbc";p["timeTextColor"]="CCCCCC";p["durationTextColor"]="ffffff";p["bgTooltipColor"]="5f747c";p["textTooltipColor"]="ffffff";p["startTime"]="0";p["autoplay"]="0";p["live"]="0";p["twitter"]="0";p["facebook"]="0";p["sharingurl"]="//www.u-pro.fr";p["buttonOverColor"]="909090";p["scrubber"]="1";p["play"]="1";p["fullscreen"]="1";p["volume"]="1";p["time"]="1";p["ga"]="";p["gaEvent"]="";p["chapter"]="disable";p["backgroundChapterColor"]="FFFFFF";p["position"]="vertical";p["playListeMode"]="0";p["nbVideo"]="0";p["source1"]="null";p["src_html5_1"]="";p["img1"]="http://gulf-up.com/do.php?img=223372";for(var i=0;i<pNames.length;i++){var parameterName=pNames[i];p[parameterName]=pqs.param(parameterName)||p[parameterName]}$(document).ready(function(){if(p["source"]=="null"&&p["prot"]=="rtmp"){p["source"]=p["src_rtmp"]}else if(p["source"]=="null"&&p["prot"]=="pseudostreaming"){p["source"]=p["src_pseudostreaming"]}else if(p["source"]=="null"&&p["prot"]=="silverlight"){p["source"]=p["src_silverlight"]}else if(p["source"]=="null"&&p["prot"]=="akamaihd"){p["source"]=p["src_akamaihd"]}if(p["primaryToken"]!=""){p["source"]+="?primaryToken="+p["primaryToken"]}if(p["autoplay"]=="1"){autoplay_boolean=true;autoplay_string="true"}else{autoplay_boolean=false;autoplay_string="false"}if(p["live"]=="1"){live_boolean=true}else{live_boolean=false}if(p["scrubber"]=="1"){scrubber_boolean=true}else{scrubber_boolean=false}if(p["play"]=="1"){play_boolean=true}else{play_boolean=false}if(p["fullscreen"]=="1"){fullscreen_boolean=true}else{fullscreen_boolean=false}if(p["volume"]=="1"){volume_boolean=true}else{volume_boolean=false}if(p["time"]=="1"){time_boolean=true}else{time_boolean=false}if(p["chapter"]=="disable"){player("uPlayer",p["img"],p["source"],p["src_html5"],p["netConnection"],p,autoplay_boolean)}else if(p["chapter"]=="enable"){$("#uPlayer").html('<div id="zonePlayer"></div><div id="chapter"></div>');var e=parseInt(p["nbVideo"])+1;for(var t=1;t<e;t++){prechargeImage(p["img"+t])}player("zonePlayer",p["img1"],p["source1"],p["src_html5_1"],p["netConnection"],p,autoplay_boolean);currentCharger=1;$("body").css("background-color","#"+p["backgroundChapterColor"])}})
